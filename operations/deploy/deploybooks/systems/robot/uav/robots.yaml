# //////////////////////////////////////////////////////////////////////////////
- robots:
# //////////////////////////////////////////////////////////////////////////////

  # source the top-level scenario files
  - source operations/deploy/scenarios/.base.env
  - source operations/deploy/scenarios/systems/robot/.robot.env

  # ////////////////////////////////////////////////////////////////////////////
  - ds1:
  # ////////////////////////////////////////////////////////////////////////////

    # source the computer-level scenario file
    - export filename=systems/robot/uav1
    - source operations/deploy/scenarios/$filename.env
    - 'export scenario=" --scenario $filename"'

    # extend
    - +extend: common/transfer
    - ds:
      - +ssh:{ uav.ds1 }
      - compose:
        - +extend: systems/robot/uav/ds/compose
      - catkin:
        # - +docker:uav-cpu-shell
        - +extend: systems/robot/uav/ds/catkin
      - registry:
        - export DOCKER_CONTEXT=robot-ds1
        - +extend: systems/robot/uav/vm/registry

  # ////////////////////////////////////////////////////////////////////////////
  - ds2:
  # ////////////////////////////////////////////////////////////////////////////

    # source the computer-level scenario file
    - export filename=systems/robot/uav2
    - source operations/deploy/scenarios/$filename.env
    - 'export scenario=" --scenario $filename"'

    # extend
    - +extend: common/transfer
    - ds:
      - +ssh:{ uav.ds2 }
      - compose:
        - +extend: systems/robot/uav/ds/compose
      - catkin:
        # - +docker:uav-cpu-shell
        - +extend: systems/robot/uav/ds/catkin
      - registry:
        - export DOCKER_CONTEXT=robot-ds2
        - +extend: systems/robot/uav/vm/registry

  # ////////////////////////////////////////////////////////////////////////////
  - ds3:
  # ////////////////////////////////////////////////////////////////////////////

    # source the computer-level scenario file
    - export filename=systems/robot/uav3
    - source operations/deploy/scenarios/$filename.env
    - 'export scenario=" --scenario $filename"'

    # extend
    - +extend: common/transfer
    - ds:
      - +ssh:{ uav.ds3 }
      - compose:
        - +extend: systems/robot/uav/ds/compose
      - catkin:
        # - +docker:uav-cpu-shell
        - +extend: systems/robot/uav/ds/catkin
      - registry:
        - export DOCKER_CONTEXT=robot-ds3
        - +extend: systems/robot/uav/vm/registry

  # ////////////////////////////////////////////////////////////////////////////
  - ds4:
  # ////////////////////////////////////////////////////////////////////////////

    # source the computer-level scenario file
    - export filename=systems/robot/uav4
    - source operations/deploy/scenarios/$filename.env
    - 'export scenario=" --scenario $filename"'

    # extend
    - +extend: common/transfer
    - ds:
      - +ssh:{ uav.ds4 }
      - compose:
        - +extend: systems/robot/uav/ds/compose
      - catkin:
        # - +docker:uav-cpu-shell
        - +extend: systems/robot/uav/ds/catkin
      - registry:
        - export DOCKER_CONTEXT=robot-ds4
        - +extend: systems/robot/uav/vm/registry
