# docker configuration
docker:
  # docker image to use
  image: "subt/tensorflow-ros:0.1-source"

# phase file for build to run
phase: ci/phase/perception.yaml

# jenkins stages configuration
stages: [clone, build, test]

# clone stage
clone:
  timeout: 100000
  messages: "clone perception ws"
  sections: [clone]
  slurm:
    - "-t 0-01:00"
    - "-c 4"
    - "-p gpu --gres=gpu:1"

# build stage
build:
  timeout: 100000
  messages: "build perception ws"
  sections: [build]
  slurm:
    - "-t 0-01:00"
    - "-c 4"
    - "-p gpu --gres=gpu:1"

# test stage
test:
  timeout: 100000
  messages: "test perception ws"
  sections: [test]
  slurm:
    - "-t 0-01:00"
    - "-c 4"
    - "-p gpu --gres=gpu:1"