- pwd
- 'export SRC_DIR=$PWD'

- clone:
  - 'echo "Cloning planning_ws"'
  - 'echo "src dir is:  $SRC_DIR" '
  - git submodule update perception/object_detection
  
- build:
  - 'echo "Building planning_ws"'
  - 'echo "src dir is:  $SRC_DIR" '
  
  # build the workspace deps
  - deps:
    - cd $SRC_DIR/perception/deps/catkin/
    - rosdep install --from-paths . --ignore-src --rosdistro melodic -y
    - catkin build

  # build the workspace
  - ws:
    - cd $SRC_DIR/perception/
    - catkin build
