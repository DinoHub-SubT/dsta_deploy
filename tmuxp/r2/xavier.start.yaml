session_name: r2_xavier_start

# Add commands to bash history
suppress_history: true

start_directory: /home/$USER/deploy_ws/src/

# commands to run before panes startup
before_script: "
  ./deployer -s
    r2.xavier.launch.start"

# This is where we list all the stuff we want to run
windows:
  - window_name: recorder and bluetooth
    focus: false
    layout: main-horizontal
    panes:
      - shell_command:
        - ssh ugv2@ugv2
        - ssh nvidia@xavier
        - tmux a -t launch_record
      - shell_command:
        - ssh ugv2@ugv2
        - ssh nvidia@xavier
        - tmux a -t launch_healthmonitor
      - shell_command:
        - ssh ugv2@ugv2
        - ssh nvidia@xavier
        - tmux a -t launch_bluetooth

  - window_name: main
    focus: true
    layout: main-horizontal
    panes:
      # enter the tmux launch on xavier
      - shell_command:  
        - ssh ugv2@ugv2
        - ssh nvidia@xavier
        - tmux a -t launch_cameras
      - shell_command:
        - ssh ugv2@ugv2
        - ssh nvidia@xavier
        - tmux a -t launch_modules
      - shell_command:
        - ssh ugv2@ugv2
        - ssh nvidia@xavier
        - tmux a -t launch_inference
      
  - window_name: shell
    focus: false
    layout: main-horizontal
    panes:
      - shell_command:
        - ssh ugv2@ugv2
        - ssh nvidia@xavier